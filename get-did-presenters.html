<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ D-ID Presenter ID</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            padding: 2rem;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        h1 {
            color: #667eea;
            margin-bottom: 1rem;
            text-align: center;
        }
        .method {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            border-right: 4px solid #667eea;
        }
        .method h2 {
            color: #333;
            margin-bottom: 1rem;
        }
        .input-group {
            margin: 1rem 0;
        }
        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #555;
            font-weight: 600;
        }
        .input-group input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
        }
        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 0.5rem;
        }
        button:hover {
            background: #5568d3;
        }
        .code-box {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
            overflow-x: auto;
            font-size: 0.9rem;
        }
        .result {
            background: #e7f3ff;
            border: 2px solid #2196F3;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        .error {
            background: #ffebee;
            border-color: #f44336;
        }
        .success {
            background: #e8f5e9;
            border-color: #4caf50;
        }
        .info-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ­ Ø·Ø±Ù‚ Ø¨Ø¯ÙŠÙ„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ D-ID Presenter ID</h1>
        
        <div class="info-box">
            <strong>ğŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> Ø¥Ø°Ø§ Ù„Ù… ØªØ¬Ø¯ Ù‚Ø³Ù… Presenters ÙÙŠ D-IDØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø­Ø¯Ù‰ Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„ØªØ§Ù„ÙŠØ©:<br>
            <strong>âš ï¸ Ù…Ù‡Ù…:</strong> ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ« D-ID API Key ÙÙŠ server.js ÙˆØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… (npm start) Ø£ÙˆÙ„Ø§Ù‹!
        </div>

        <!-- Method 1: API Call -->
        <div class="method">
            <h2>Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… API Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Presenters</h2>
            <p style="margin-bottom: 1rem;">Ø£Ø¯Ø®Ù„ D-ID API Key ÙˆØ³Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù€ Presenters Ø§Ù„Ù…ØªØ§Ø­Ø©:</p>
            <div class="input-group">
                <label>D-ID API Key (ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ«Ù‡ ÙÙŠ server.js Ø£ÙˆÙ„Ø§Ù‹):</label>
                <input type="text" id="apiKey" placeholder="Ø§Ù„ØµÙ‚ D-ID API Key Ù‡Ù†Ø§ (Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙ‚Ø·)...">
            </div>
            <div class="info-box" style="margin: 1rem 0;">
                <strong>âš ï¸ Ù…Ù‡Ù…:</strong> ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ« D-ID API Key ÙÙŠ Ù…Ù„Ù server.js Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø«Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… (npm start)
            </div>
            <button onclick="getPresenters()">ğŸ” Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Presenters</button>
            <div id="presentersResult"></div>
        </div>

        <!-- Method 2: Use Default Presenter -->
        <div class="method">
            <h2>Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Presenter Ø§ÙØªØ±Ø§Ø¶ÙŠ</h2>
            <p style="margin-bottom: 1rem;">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø¯ Ø§Ù„Ù€ Presenters Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:</p>
            <div class="code-box">
                <div>// Presenters Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ù† D-ID:</div>
                <div style="margin-top: 0.5rem;">
                    <div>amy-jcwCkr1grs (Ø£Ù†Ø«Ù‰)</div>
                    <div>amy-7WYHSYhx (Ø£Ù†Ø«Ù‰)</div>
                    <div>tom-0lR1-6xak (Ø°ÙƒØ±)</div>
                    <div>sara-7WYHSYhx (Ø£Ù†Ø«Ù‰)</div>
                </div>
            </div>
            <div class="input-group">
                <label>Ø§Ø®ØªØ± Presenter ID:</label>
                <input type="text" id="defaultPresenter" value="amy-jcwCkr1grs" placeholder="amy-jcwCkr1grs">
            </div>
            <button onclick="copyDefaultPresenter()">ğŸ“‹ Ù†Ø³Ø® Presenter ID</button>
        </div>

        <!-- Method 3: Create New Presenter -->
        <div class="method">
            <h2>Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 3: Ø¥Ù†Ø´Ø§Ø¡ Presenter Ø¬Ø¯ÙŠØ¯ Ø¹Ø¨Ø± API</h2>
            <p style="margin-bottom: 1rem;">Ø£Ù†Ø´Ø¦ presenter Ø¬Ø¯ÙŠØ¯ Ø¨Ø±ÙØ¹ ØµÙˆØ±Ø©:</p>
            <div class="input-group">
                <label>D-ID API Key (ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ«Ù‡ ÙÙŠ server.js Ø£ÙˆÙ„Ø§Ù‹):</label>
                <input type="text" id="createApiKey" placeholder="Ø§Ù„ØµÙ‚ D-ID API Key Ù‡Ù†Ø§ (Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙ‚Ø·)...">
            </div>
            <div class="info-box" style="margin: 1rem 0;">
                <strong>âš ï¸ Ù…Ù‡Ù…:</strong> ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ« D-ID API Key ÙÙŠ Ù…Ù„Ù server.js Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø«Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… (npm start)
            </div>
            <div class="input-group">
                <label>Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© (Image URL):</label>
                <input type="text" id="imageUrl" placeholder="https://example.com/image.jpg">
            </div>
            <button onclick="createPresenter()">â• Ø¥Ù†Ø´Ø§Ø¡ Presenter Ø¬Ø¯ÙŠØ¯</button>
            <div id="createResult"></div>
        </div>

        <!-- Method 4: Use Source URL directly -->
        <div class="method">
            <h2>Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 4: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø±Ø©</h2>
            <p style="margin-bottom: 1rem;">Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Presenter IDØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¨Ø§Ø´Ø±Ø©:</p>
            <div class="input-group">
                <label>Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© (Image URL):</label>
                <input type="text" id="sourceUrl" placeholder="https://example.com/character.jpg">
            </div>
            <div class="info-box">
                <strong>ğŸ’¡ Ù†ØµÙŠØ­Ø©:</strong> ÙŠÙ…ÙƒÙ†Ùƒ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Ø£ÙŠ Ø®Ø¯Ù…Ø© Ø§Ø³ØªØ¶Ø§ÙØ© ØµÙˆØ± (Ù…Ø«Ù„ imgur.com) ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ø§Ø¨Ø·
            </div>
            <button onclick="copySourceUrl()">ğŸ“‹ Ù†Ø³Ø® Source URL</button>
        </div>
    </div>

    <script>
        async function getPresenters() {
            const apiKey = document.getElementById('apiKey').value;
            const resultDiv = document.getElementById('presentersResult');
            
            if (!apiKey) {
                resultDiv.innerHTML = '<div class="result error">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ D-ID API Key</div>';
                return;
            }
            
            resultDiv.innerHTML = '<div class="result">Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Presenters...</div>';
            
            try {
                // Use backend server to avoid CORS
                const response = await fetch('http://localhost:3000/api/did/presenters', {
                    method: 'GET'
                });
                
                const responseText = await response.text();
                let data;
                
                try {
                    data = JSON.parse(responseText);
                } catch (parseError) {
                    // If not JSON, show the raw response
                    resultDiv.innerHTML = `<div class="result error">
                        <strong>Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø¯:</strong><br>
                        ${responseText.substring(0, 200)}<br><br>
                        <strong>Ø§Ù„Ø­Ù„:</strong><br>
                        1. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ« D-ID API Key ÙÙŠ server.js<br>
                        2. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… (npm start)<br>
                        3. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2 (Presenter Ø§ÙØªØ±Ø§Ø¶ÙŠ) ÙƒØ¨Ø¯ÙŠÙ„
                    </div>`;
                    return;
                }
                
                if (response.ok && (data.presenters || data.length > 0)) {
                    const presenters = data.presenters || data;
                    let html = '<div class="result success"><strong>âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Presenters:</strong><ul style="margin-top: 1rem; padding-right: 1.5rem;">';
                    presenters.forEach(presenter => {
                        const presenterId = presenter.id || presenter.presenter_id || presenter;
                        const presenterName = presenter.name || presenterId;
                        html += `<li style="margin: 0.5rem 0;"><strong>${presenterName}</strong>: <code>${presenterId}</code> <button onclick="copyId('${presenterId}')" style="padding: 0.3rem 0.8rem; font-size: 0.8rem; margin-right: 0.5rem;">Ù†Ø³Ø®</button></li>`;
                    });
                    html += '</ul></div>';
                    resultDiv.innerHTML = html;
                } else {
                    resultDiv.innerHTML = `<div class="result error">
                        <strong>Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ API:</strong><br>
                        ${data.error || data.message || JSON.stringify(data)}<br><br>
                        <strong>Ø§Ù„Ø­Ù„:</strong><br>
                        1. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ« D-ID API Key ÙÙŠ server.js<br>
                        2. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… (npm start)<br>
                        3. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2 (Presenter Ø§ÙØªØ±Ø§Ø¶ÙŠ) ÙƒØ¨Ø¯ÙŠÙ„
                    </div>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="result error">
                    <strong>Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„:</strong><br>
                    ${error.message}<br><br>
                    <strong>Ø§Ù„Ø­Ù„:</strong><br>
                    1. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…: <code>npm start</code><br>
                    2. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ http://localhost:3000<br>
                    3. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2 (Presenter Ø§ÙØªØ±Ø§Ø¶ÙŠ) ÙƒØ¨Ø¯ÙŠÙ„
                </div>`;
            }
        }
        
        function copyId(id) {
            navigator.clipboard.writeText(id).then(() => {
                alert(`âœ… ØªÙ… Ù†Ø³Ø® Presenter ID: ${id}`);
            });
        }
        
        function copyDefaultPresenter() {
            const presenterId = document.getElementById('defaultPresenter').value;
            navigator.clipboard.writeText(presenterId).then(() => {
                alert(`âœ… ØªÙ… Ù†Ø³Ø® Presenter ID: ${presenterId}`);
            });
        }
        
        async function createPresenter() {
            const apiKey = document.getElementById('createApiKey').value;
            const imageUrl = document.getElementById('imageUrl').value;
            const resultDiv = document.getElementById('createResult');
            
            if (!apiKey || !imageUrl) {
                resultDiv.innerHTML = '<div class="result error">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ API Key ÙˆØ±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©</div>';
                return;
            }
            
            resultDiv.innerHTML = '<div class="result">Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Presenter...</div>';
            
            try {
                // Use backend endpoint
                const response = await fetch('http://localhost:3000/api/did/presenters', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        source_url: imageUrl
                    })
                });
                
                const responseText = await response.text();
                let data;
                
                try {
                    data = JSON.parse(responseText);
                } catch (parseError) {
                    resultDiv.innerHTML = `<div class="result error">
                        <strong>Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø±Ø¯:</strong><br>
                        ${responseText.substring(0, 200)}<br><br>
                        <strong>Ø§Ù„Ø­Ù„:</strong><br>
                        1. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ« D-ID API Key ÙÙŠ server.js<br>
                        2. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… (npm start)
                    </div>`;
                    return;
                }
                
                if (response.ok && (data.id || data.presenter_id)) {
                    const presenterId = data.id || data.presenter_id;
                    resultDiv.innerHTML = `<div class="result success"><strong>âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Presenter Ø¨Ù†Ø¬Ø§Ø­!</strong><br>Presenter ID: <code>${presenterId}</code> <button onclick="copyId('${presenterId}')" style="padding: 0.3rem 0.8rem; font-size: 0.8rem; margin-right: 0.5rem;">Ù†Ø³Ø®</button></div>`;
                } else {
                    resultDiv.innerHTML = `<div class="result error">
                        <strong>ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Presenter:</strong><br>
                        ${data.error || data.message || JSON.stringify(data)}<br><br>
                        <strong>Ø§Ù„Ø­Ù„:</strong><br>
                        1. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ø¯ÙŠØ« D-ID API Key ÙÙŠ server.js<br>
                        2. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© ØµØ­ÙŠØ­ ÙˆÙ…ØªØ§Ø­
                    </div>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="result error">
                    <strong>Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„:</strong><br>
                    ${error.message}<br><br>
                    <strong>Ø§Ù„Ø­Ù„:</strong><br>
                    1. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…: <code>npm start</code><br>
                    2. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ http://localhost:3000
                </div>`;
            }
        }
        
        function copySourceUrl() {
            const sourceUrl = document.getElementById('sourceUrl').value;
            if (!sourceUrl) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            navigator.clipboard.writeText(sourceUrl).then(() => {
                alert(`âœ… ØªÙ… Ù†Ø³Ø® Source URL. Ø§Ø³ØªØ®Ø¯Ù…Ù‡ ÙÙŠ server.js ÙƒÙ€ source_url`);
            });
        }
    </script>
</body>
</html>

